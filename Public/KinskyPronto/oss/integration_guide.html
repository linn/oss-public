<html>
<head>
<title>
Kinsky Pronto Integration Guide
</title>
<style type="text/css">
<!--
body {

  font-family: "Helvetica, Tahoma";	
	
    overflow-x: hidden;
    -webkit-user-select: none;
    -webkit-text-size-adjust: none;
    
}

.unimplemented {
	COLOR: #999
}

.bug {
	COLOR: red
}

.heading {
  line-height: 0.75em;
  margin: 0px 0px 0px 0px;
  padding: 0px 0px 0px 0px;
  text-align: center;
  font-weight: bold;
  background-color:  #416779; /* #408080; */
  font-size:400%;
  color:white;
}

.content {
  margin: 5px 5px 5px 5px;
  padding: 5px 5px 5px 5px;
}

.figure {
  text-align: center;
  font-weight: bold;
  color:grey;

}

-->
</style>
</head>


<body>
<h1>
Kinsky Pronto Integration Guide
</h1>
<h2>Overview</h2>

<p>
This page outlines how to integrate the Linn supplied <code>.xgf</code> files into your own Pronto project (<code>.xcf</code>).
Linn supply six <code>.xgf</code> files, three for each of the 9600 &amp; 9400 with one file for each type of device controlled.
Linn also supply two sample <code>.xcf</code> projects which can be used for the basis for your own projects.
</p>

<p>
Note: The term 9600 is used throught this article to refer to both the Philips Pronto 9600 &amp; 9800.
</p>

<h3>Sleep Mode</h3>
<p>
In order to maintain communications between Pronto and DS, it is suggested that sleep mode on Pronto is disabled. This is done by pressing and holding the settings icon (top left) on the screen for about 5 seconds to enter Pronto settings page. Then select Screen and increment Turn off screen after until it reads <em>On</em>
</p>

<h2>Library Layout</h2>
<p>
Due to memory limitations in the Pronto devices only the first 250 items in any lists are displayed. Hence the media library should be configured to ensure that any returned lists are smaller than this size. This can be done by splitting larger lists alphabetically: 
</p>

<ul>
<li>Asset UPnP: [A to Z] split available at all levels </li>
<li>Twonky 4.4.x: Set ABC column to a value (Music Tree configuration page) </li>
<li>Twonky 5.x: No user configuration - already split alphabetically </li>
</ul>

<h2>
Prerequisits
</h2>
<p>
This document assumes a working knowledge of the ProntoEdit Pro application but only minimal programming knowledge is assumed.
</p>

<h2>Sample Projects</h2>
<p>
The two sample projects are detailed as follows:
</p>
<h3><code>KinskyPronto9600.xcf</code></h3>
<p>
This is a sample project for the Pronto 9600. It consists of four activities, DS, Radio, LP-12 (Preamp Only) and custom (See <a href="developer_guide.html">developers guide</a>). Each activity is based on a <code>.xgf</code> file which has had it's <code>[PARAMETERS]</code> page appropriatly populated. If this were a end user project then it would be expeced that more than one <code>Linn DS-9600-PREAMP.xgf</code> module would be added to allow source selection of multipule inputs.
<p>
<p>
<em>Note</em>:
The splash-screen and home page provided in this .xcf file are examples only. These should be replaced with splash-screen and home page customised to the end user's setup.
</p>
<h3><code>KinskyPronto9400.xcf</code></h3>
<p>
This project is for the Pronto 9400 and is the same as the 9600 project but using the 9400 <code>.xgf</code> files.
</p>

<h2>ProntoScript Modules</h2>
<p>
The six supplied ProntoScript should be copied to the location below when they will become available for inclusion in your projects via the 'ProntoScrit Modules' tab in the lower 'Building Blocks' pane of the ProntoEdit Pro 2 application.
</p>
<p>
<ul>
<li><p>for 
 Windows XP: <code>C:\Documents and Settings\All Users\Application Data\Philips\ProntoEdit Professional 2\ProntoScriptModules\...</code>
</p>
</li>
<li><p>for 
 Windows Vista: <code>C:\ProgramData\Philips\ProntoEdit Professional 2\ProntoScriptModules\...</code></p></li>
</ul>
</p>
<h3>Pronto 9600 / 9800</h3>
<h4><code>Linn DS-9600-DS.xgf</code></h4>
<p>
This module allows the end user to control the Linn DS itself. The <code>[PARAMETERS]</code> page should be populated as follows:
</p>
<div class="figure"><img src="Parameters DS.png"><br/>DS-*-DS [Parameters] Page</div>
<p>
<ul>
<li><code>DS IP Address</code>:</br>
The IP Address of the DS to be controlled. This parameters (and other IP related parameters below) can all be found using LinnConfig.
</li>
<li><code>Media Server IP Address</code>:</br>
The IP Address of the media server (Twonky, Asset UPnP etc)
containing the media to be streamed to the DS.
</li>
<li><code>Media Server IP Port</code>:</br>
IP port number of the above media server.</li>
<li><code>Media Server URL</code>:</br>
URL of the above media server. The URL <em>must</em> have leading '/', but no trailing '/'. 
</li>
<li><code>Preamp Type</code>:</br>
Integer to represent the three type of preamp control supported by the DS:
  <ul>
  <li>0: No Preamp</li>
  <li>1: Internal (Built-in) preamp, for example Sekrit DS-I, Majik DS-I or Sekrit DS</li>
  <li>2: External (RS-232) controlled preamp.</li>
  </ul>
</li>
</ul>
</p>

<h4><code>Linn DS-9600-RADIO.xgf</code></h4>
<p>
This module allows the end user to control the Internet Radio feature of a Cara 6 (or later) Linn DS. The <code>[PARAMETERS]</code> page should be populated as follows:
</p>
<div class="figure"><img src="Parameters Radio.png"><br/>DS-*-RADIO [Parameters] Page</div>
<p>
<ul>
<li><code>DS IP Address</code>:</br>
As per <code>Linn DS-9600-DS.xgf</code> above.</li>
</li>
<li><code>Preamp Type</code>:</br>
As per <code>Linn DS-9600-DS.xgf</code> above.</li>
</ul>
</p>

<h4><code>Linn DS-9600-PREAMP.xgf</code></h4>
<p>
This module allows the end user to control the xxx itself. The <code>[PARAMETERS]</code> page should be populated as follows:
</p>

<div class="figure"><img src="Parameters PreAmp.png"><br/>DS-*-PREAMP [Parameters] Page</div>
<p>
<ul>
<li><code>DS IP Address</code>:</br>
As per <code>Linn DS-9600-DS.xgf</code> above.</li>
</li>
<li><code>Other Input</code>:</br>
This in the input source to be selected (and thus listened to) by the preamp</li>
<li><code>Input name</code>:</br>
This is the name of the <code>Other Input</code> input source, it is displayed in the heading of the
Pronto's screen.</li>
<li><code>Preamp Type</code>:</br>
As per <code>Linn DS-9600-DS.xgf</code> above.</li>
</ul>

</p>

<h3>Pronto 9400</h3>
<p>
The 9400 variants of the modules are functionally identical to the 9600 version though the graphics have been modified to account for the different screen resolution and orientation. The (not shown) <code>[PARAMETERS]</code> pages have identical parameters which should be configured in the same way - but are slightly differently arranged because of the limited 9400 screen real estate.
</p>
<h4><code>Linn DS-9400-DS.xgf</code></h4>
<p>
This module is functionally the same as <code>Linn DS-9600-DS.xgf</code> but designed for use on Pronto 9400 panels.
</p>
<h4><code>Linn DS-9400-RADIO.xgf</code></h4>
<p>
This module is functionally the same as <code>Linn DS-9600-RADIO.xgf</code> but designed for use on Pronto 9400 panels.
</p>
<h4><code>Linn DS-9400-PREAMP.xgf</code></h4>
<p>
This module is functionally the same as <code>Linn DS-9600-PREAMP.xgf</code> but designed for use on Pronto 9400 panels.
</p>


<hr/>
<h1>Pronto Startup Parameters</h1>
<p>
The latest release of Kinsky Pronto has changed how parameters are passed to the application.
Previously all the settings for the DS and media server were hard coded within the [PARAMETERS] page of each of the activites (DS, RADIO, PREAMP).
This was timeconsuming, error prone &amp; not very flexible.
</p>
<p>
This new release of Kinsky Pronto has moved the setting of many parameters to the home page of the Pronto project.
Although this may appear suboptimal as you now have to write a small chunk of JavaScript to set the parameters (Shown below), there are key advantages
which have also been outlined below.
</p>
<p>
There are several advantages to this approach.
</p>
<ul>
<li>The parameters only need to be defined once.</li>
<li>Parameters can be dynamically modified to allow the selection of multpule DS's or media servers.</li>
<li>...</li>
</ul> 
<p>
The [PARAMETERS] page is still used to define certain parameters for the preamp activity which are activity specific.
This has been done to allow more than one preamp activity to be added to the home page, to allow for multiple preamp inputs
</p>

<ul>
 <li>Other Input: The input number to select.</li>
 <li>Input Name: The name Kinsky Pronto should display for that input.</li>
</ul> 

<h2>Defining the parameters</h2>
<p>
As discussed the majority of parameters are now specified in the home screen's startup JavaScript code.
</p>
<p>
This code can be found and modified as follows.
</p>
<p>
In Project Overview panel (LHS) expand 'Home' &amp; select 'Home Page'.
</p>
<p>
This will display the home startup page in the UI (Central panel) &amp the 'Page Properties' in the RHS panel.
</p>
<p>
Select the 'Advanced' tab in the RHS panel then paste the following code in (Adusting the parameters to meet your requirements):
</p>
<div class="code">
<pre>
<code>
// Define DS & Media Server Parameters
//
System.setGlobal("LINN_DS_IP_ADDRESS",  "192.168.1.67");
System.setGlobal("LINN_PREAMP_TYPE",      "1");

// Test Twonky
//
System.setGlobal("LINN_MS_IP_ADDRESS",  "192.168.1.40");
System.setGlobal("LINN_MS_IP_PORT",     "9000");
System.setGlobal("LINN_MS_URL",         "/ContentDirectory/Control");

// Hide widgets.
//
CF.widget("SPLASH").visible = false;
</code>
</div>
</pre>


</body>
</html>
<!--
<hr>

<pre>
KinskyPronto Installation
KinskyPronto is available as 

Standalone Pronto project with example splash screen and home page (.xcf file) 
Pronto module which can be added to an existing Pronto project (.xgf file) 
Using either requires use of ProntoEdit Professional 2 software package to configure the application before downloading it to the Pronto device itself 

Configuration
Download .xcf or .xgf file here 
Open project in ProntoEdit Professional 2 
Configure network parameters  
Configure Linn DS parameters  

Preamp IP address should match DS IP address 
Media Server parameters are shown under Control Key in Version tab of LinnConfig - 
Leave Preamp Source ID and Source Is DS at defaults 
Debug IP address is for developer use 


</pre>
-->


